# HealthMesh Environment Configuration
# Microsoft Entra ID Multi-Tenant Authentication

# Application
NODE_ENV=development
PORT=5000

# Database (SQLite in dev, PostgreSQL in prod)
DATABASE_URL=./healthmesh.db

# ============================================
# MICROSOFT ENTRA ID CONFIGURATION (REQUIRED)
# ============================================
# Get these from Azure Portal > Entra ID > App registrations

# Your App Registration's Application (client) ID
AZURE_AD_CLIENT_ID=your-client-id-here

# Frontend configuration (same as backend)
VITE_AZURE_AD_CLIENT_ID=your-client-id-here
VITE_AZURE_AD_REDIRECT_URI=http://localhost:5000/login

# ============================================
# AZURE OPENAI / AI FOUNDRY CONFIGURATION
# ============================================
# Get these from Azure AI Foundry (https://ai.azure.com) or Azure Portal
# Required for multi-agent clinical intelligence

# Azure OpenAI endpoint and key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-azure-openai-api-key
AZURE_OPENAI_API_VERSION=2024-08-01-preview

# Model deployments
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4o
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-ada-002

# Azure AI Foundry project (optional)
AZURE_AI_FOUNDRY_RESOURCE=healthmesh-openai
AZURE_AI_FOUNDRY_PROJECT=HealthMesh

# Demo mode (set to 'true' to use mock AI responses)
USE_DEMO_MODE=false

# ============================================
# SECURITY CONFIGURATION (REQUIRED)
# ============================================
# Session secret for express-session (generate a random 64-character string)
# Generate with: openssl rand -hex 32
SESSION_SECRET=your-64-character-random-secret-here-change-this-in-production

# CORS configuration (production only)
FRONTEND_URL=https://your-app.azurewebsites.net
AZURE_APP_URL=https://your-app.azurewebsites.net

# ============================================
# NOTES
# ============================================
# 1. AZURE_AD_TENANT_ID is NOT required for multi-tenant apps
# 2. Make sure your App Registration is set to "Multitenant"
# 3. Authority uses 'common' endpoint for any Azure AD org

# ============================================
# PATIENT QR IDENTITY SYSTEM
# ============================================
# Secure QR code generation for patient identification
# IMPORTANT: Must be exactly 32 characters for AES-256 encryption
# Generate with: openssl rand -base64 32 | cut -c1-32

QR_ENCRYPTION_KEY=your-32-character-encryption-key

# ============================================
# AZURE SQL DATABASE (Required for QR System)
# ============================================
# Configure in azure/config.ts or use environment variables
# AZURE_SQL_SERVER=your-server.database.windows.net
# AZURE_SQL_DATABASE=healthmesh-sql
# AZURE_SQL_USER=your-username
# AZURE_SQL_PASSWORD=your-password
